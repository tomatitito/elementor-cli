<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elementor CLI Studio</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header class="header">
    <div class="header-left">
      <h1>Elementor CLI Studio</h1>
      <span class="site-badge" id="siteName">Loading...</span>
    </div>
    <div class="header-right">
      <select id="pageSelector" disabled>
        <option value="">Select a page...</option>
      </select>
      <div class="staging-status" id="stagingStatus">
        <span class="status-dot offline"></span>
        <span>Staging: Checking...</span>
      </div>
    </div>
  </header>

  <main class="main">
    <div class="panel" id="productionPanel">
      <div class="panel-header">
        <h2>Production</h2>
        <div class="panel-actions">
          <button class="btn btn-icon" id="refreshProduction" title="Refresh">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 4v6h-6M1 20v-6h6"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="panel-content">
        <div class="empty-state" id="productionEmpty">
          <p>Select a page to preview</p>
        </div>
        <iframe id="productionFrame" class="preview-frame hidden"></iframe>
      </div>
    </div>

    <div class="panel" id="stagingPanel">
      <div class="panel-header">
        <h2>Staging</h2>
        <div class="panel-actions">
          <button class="btn btn-icon" id="refreshStaging" title="Refresh">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 4v6h-6M1 20v-6h6"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="panel-content">
        <div class="empty-state" id="stagingEmpty">
          <p>Select a page to preview</p>
        </div>
        <div class="offline-state hidden" id="stagingOffline">
          <p>Staging environment is not running</p>
          <code>elementor-cli preview start</code>
        </div>
        <iframe id="stagingFrame" class="preview-frame hidden"></iframe>
      </div>
    </div>
  </main>

  <footer class="controls">
    <div class="controls-left">
      <button class="btn btn-primary" id="syncBtn" disabled>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 12l8 8 8-8M12 4v16"/>
        </svg>
        Sync to Staging
      </button>
      <button class="btn btn-secondary" id="pullBtn" disabled>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14M5 12l7-7 7 7"/>
        </svg>
        Pull from Production
      </button>
    </div>
    <div class="controls-center">
      <button class="btn btn-secondary" id="regenerateCssBtn" disabled>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/>
          <path d="M21 3v5h-5"/>
        </svg>
        Regenerate CSS
      </button>
    </div>
    <div class="controls-right">
      <button class="btn btn-warning" id="pushBtn" disabled>
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 19V5M5 12l7-7 7 7"/>
        </svg>
        Push to Production
      </button>
    </div>
  </footer>

  <div class="toast-container" id="toastContainer"></div>

  <script src="/app.js"></script>
</body>
</html>
